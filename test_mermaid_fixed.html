<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¿®å¤åçš„Mermaidæµ‹è¯•</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            margin-bottom: 30px;
            text-align: center;
        }
        .mermaid-container {
            width: 100%;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
            overflow: auto;
        }
        .mermaid-diagram {
            width: 100%;
            display: block;
            text-align: center;
            padding: 20px;
        }
        .mermaid-diagram svg {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
        }
        .test-result {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #28a745;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ ä¿®å¤åçš„Mermaidæµç¨‹å›¾æµ‹è¯•</h1>
        
        <div class="mermaid-container">
            <div class="mermaid-diagram" id="mermaid-test">
                <!-- Mermaidå›¾è¡¨å°†åœ¨è¿™é‡Œæ¸²æŸ“ -->
            </div>
        </div>
        
        <div class="test-result">
            <h3>ğŸ“‹ æµ‹è¯•è¯´æ˜</h3>
            <p>è¿™ä¸ªæµ‹è¯•ä½¿ç”¨ä¿®å¤åçš„Mermaidä»£ç ï¼Œåº”è¯¥èƒ½çœ‹åˆ°å®Œæ•´çš„æµç¨‹ï¼š</p>
            <ul>
                <li>âœ… Start (å¼€å§‹èŠ‚ç‚¹ - è“è‰²)</li>
                <li>âœ… smart_search (å·¥å…·èŠ‚ç‚¹ - ç»¿è‰²)</li>
                <li>âœ… End (ç»“æŸèŠ‚ç‚¹ - è“è‰²)</li>
                <li>âœ… å®Œæ•´çš„ç®­å¤´è¿æ¥</li>
            </ul>
        </div>
    </div>

    <script>
        // åˆå§‹åŒ–Mermaid
        mermaid.initialize({
            startOnLoad: false,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });

        // ä¿®å¤åçš„Mermaidä»£ç 
        const mermaidCode = `graph LR

    %% Node definitions
    Node1["smart_search"]

    %% Connections
    Start[Start] --> Node1
    Node1 --> End[End]

    %% Styles
    classDef default fill:#f9f9f9,stroke:#333,stroke-width:2px;
    classDef success fill:#d4edda,stroke:#155724,stroke-width:1px,color:#155724;
    classDef failure fill:#f8d7da,stroke:#721c24,stroke-width:1px,color:#721c24;
    classDef endpoint fill:#e0e7ff,stroke:#4f46e5,stroke-width:1px,color:#4f46e5;

    class Start,End endpoint;
    class Node1 success;`;

        // æ¸²æŸ“å›¾è¡¨
        mermaid.render('mermaid-fixed-svg', mermaidCode).then(({ svg }) => {
            const element = document.getElementById('mermaid-test');
            element.innerHTML = svg;
            
            console.log('âœ… Mermaidå›¾è¡¨æ¸²æŸ“æˆåŠŸï¼');
        }).catch(error => {
            console.error('âŒ Mermaidæ¸²æŸ“å¤±è´¥:', error);
            document.getElementById('mermaid-test').innerHTML = `<pre style="color: red; padding: 20px;">æ¸²æŸ“å¤±è´¥: ${error.message}</pre>`;
        });
    </script>
</body>
</html> 